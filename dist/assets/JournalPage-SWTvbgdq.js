import{M as Vt,t as qt,R as Rt,r as me,j as m,e as Kt,P as He,E as Zt,a as Jt,i as Qt,u as en}from"./index-DlsQTmer.js";function tn(i,n,s,r){const l=Number(i[n].meta.id+1).toString();let u="";return typeof r.docId=="string"&&(u=`-${r.docId}-`),u+l}function nn(i,n){let s=Number(i[n].meta.id+1).toString();return i[n].meta.subId>0&&(s+=`:${i[n].meta.subId}`),`[${s}]`}function on(i,n,s,r,l){const u=l.rules.footnote_anchor_name(i,n,s,r,l),b=l.rules.footnote_caption(i,n,s,r,l);let t=u;return i[n].meta.subId>0&&(t+=`:${i[n].meta.subId}`),`<sup class="footnote-ref"><a href="#fn${u}" id="fnref${t}">${b}</a></sup>`}function rn(i,n,s){return(s.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`)+`<section class="footnotes">
<ol class="footnotes-list">
`}function sn(){return`</ol>
</section>
`}function ln(i,n,s,r,l){let u=l.rules.footnote_anchor_name(i,n,s,r,l);return i[n].meta.subId>0&&(u+=`:${i[n].meta.subId}`),`<li id="fn${u}" class="footnote-item">`}function an(){return`</li>
`}function cn(i,n,s,r,l){let u=l.rules.footnote_anchor_name(i,n,s,r,l);return i[n].meta.subId>0&&(u+=`:${i[n].meta.subId}`),` <a href="#fnref${u}" class="footnote-backref">↩︎</a>`}function fn(i){const n=i.helpers.parseLinkLabel,s=i.utils.isSpace;i.renderer.rules.footnote_ref=on,i.renderer.rules.footnote_block_open=rn,i.renderer.rules.footnote_block_close=sn,i.renderer.rules.footnote_open=ln,i.renderer.rules.footnote_close=an,i.renderer.rules.footnote_anchor=cn,i.renderer.rules.footnote_caption=nn,i.renderer.rules.footnote_anchor_name=tn;function r(t,c,_,g){const d=t.bMarks[c]+t.tShift[c],x=t.eMarks[c];if(d+4>x||t.src.charCodeAt(d)!==91||t.src.charCodeAt(d+1)!==94)return!1;let p;for(p=d+2;p<x;p++){if(t.src.charCodeAt(p)===32)return!1;if(t.src.charCodeAt(p)===93)break}if(p===d+2||p+1>=x||t.src.charCodeAt(++p)!==58)return!1;if(g)return!0;p++,t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.refs||(t.env.footnotes.refs={});const T=t.src.slice(d+2,p-2);t.env.footnotes.refs[`:${T}`]=-1;const U=new t.Token("footnote_reference_open","",1);U.meta={label:T},U.level=t.level++,t.tokens.push(U);const K=t.bMarks[c],Y=t.tShift[c],re=t.sCount[c],M=t.parentType,E=p,z=t.sCount[c]+p-(t.bMarks[c]+t.tShift[c]);let X=z;for(;p<x;){const he=t.src.charCodeAt(p);if(s(he))he===9?X+=4-X%4:X++;else break;p++}t.tShift[c]=p-E,t.sCount[c]=X-z,t.bMarks[c]=E,t.blkIndent+=4,t.parentType="footnote",t.sCount[c]<t.blkIndent&&(t.sCount[c]+=t.blkIndent),t.md.block.tokenize(t,c,_,!0),t.parentType=M,t.blkIndent-=4,t.tShift[c]=Y,t.sCount[c]=re,t.bMarks[c]=K;const de=new t.Token("footnote_reference_close","",-1);return de.level=--t.level,t.tokens.push(de),!0}function l(t,c){const _=t.posMax,g=t.pos;if(g+2>=_||t.src.charCodeAt(g)!==94||t.src.charCodeAt(g+1)!==91)return!1;const d=g+2,x=n(t,g+1);if(x<0)return!1;if(!c){t.env.footnotes||(t.env.footnotes={}),t.env.footnotes.list||(t.env.footnotes.list=[]);const p=t.env.footnotes.list.length,T=[];t.md.inline.parse(t.src.slice(d,x),t.md,t.env,T);const U=t.push("footnote_ref","",0);U.meta={id:p},t.env.footnotes.list[p]={content:t.src.slice(d,x),tokens:T}}return t.pos=x+1,t.posMax=_,!0}function u(t,c){const _=t.posMax,g=t.pos;if(g+3>_||!t.env.footnotes||!t.env.footnotes.refs||t.src.charCodeAt(g)!==91||t.src.charCodeAt(g+1)!==94)return!1;let d;for(d=g+2;d<_;d++){if(t.src.charCodeAt(d)===32||t.src.charCodeAt(d)===10)return!1;if(t.src.charCodeAt(d)===93)break}if(d===g+2||d>=_)return!1;d++;const x=t.src.slice(g+2,d-1);if(typeof t.env.footnotes.refs[`:${x}`]>"u")return!1;if(!c){t.env.footnotes.list||(t.env.footnotes.list=[]);let p;t.env.footnotes.refs[`:${x}`]<0?(p=t.env.footnotes.list.length,t.env.footnotes.list[p]={label:x,count:0},t.env.footnotes.refs[`:${x}`]=p):p=t.env.footnotes.refs[`:${x}`];const T=t.env.footnotes.list[p].count;t.env.footnotes.list[p].count++;const U=t.push("footnote_ref","",0);U.meta={id:p,subId:T,label:x}}return t.pos=d,t.posMax=_,!0}function b(t){let c,_,g,d=!1;const x={};if(!t.env.footnotes||(t.tokens=t.tokens.filter(function(T){return T.type==="footnote_reference_open"?(d=!0,_=[],g=T.meta.label,!1):T.type==="footnote_reference_close"?(d=!1,x[":"+g]=_,!1):(d&&_.push(T),!d)}),!t.env.footnotes.list))return;const p=t.env.footnotes.list;t.tokens.push(new t.Token("footnote_block_open","",1));for(let T=0,U=p.length;T<U;T++){const K=new t.Token("footnote_open","",1);if(K.meta={id:T,label:p[T].label},t.tokens.push(K),p[T].tokens){c=[];const M=new t.Token("paragraph_open","p",1);M.block=!0,c.push(M);const E=new t.Token("inline","",0);E.children=p[T].tokens,E.content=p[T].content,c.push(E);const z=new t.Token("paragraph_close","p",-1);z.block=!0,c.push(z)}else p[T].label&&(c=x[`:${p[T].label}`]);c&&(t.tokens=t.tokens.concat(c));let Y;t.tokens[t.tokens.length-1].type==="paragraph_close"?Y=t.tokens.pop():Y=null;const re=p[T].count>0?p[T].count:1;for(let M=0;M<re;M++){const E=new t.Token("footnote_anchor","",0);E.meta={id:T,subId:M,label:p[T].label},t.tokens.push(E)}Y&&t.tokens.push(Y),t.tokens.push(new t.Token("footnote_close","",-1))}t.tokens.push(new t.Token("footnote_block_close","",-1))}i.block.ruler.before("reference","footnote_def",r,{alt:["paragraph","reference"]}),i.inline.ruler.after("image","footnote_inline",l),i.inline.ruler.after("footnote_inline","footnote_ref",u),i.core.ruler.after("inline","footnote_tail",b)}function un(i){function n(r,l){const u=r.pos,b=r.src.charCodeAt(u);if(l||b!==61)return!1;const t=r.scanDelims(r.pos,!0);let c=t.length;const _=String.fromCharCode(b);if(c<2)return!1;if(c%2){const g=r.push("text","",0);g.content=_,c--}for(let g=0;g<c;g+=2){const d=r.push("text","",0);d.content=_+_,!(!t.can_open&&!t.can_close)&&r.delimiters.push({marker:b,length:0,jump:g/2,token:r.tokens.length-1,end:-1,open:t.can_open,close:t.can_close})}return r.pos+=t.length,!0}function s(r,l){const u=[],b=l.length;for(let t=0;t<b;t++){const c=l[t];if(c.marker!==61||c.end===-1)continue;const _=l[c.end],g=r.tokens[c.token];g.type="mark_open",g.tag="mark",g.nesting=1,g.markup="==",g.content="";const d=r.tokens[_.token];d.type="mark_close",d.tag="mark",d.nesting=-1,d.markup="==",d.content="",r.tokens[_.token-1].type==="text"&&r.tokens[_.token-1].content==="="&&u.push(_.token-1)}for(;u.length;){const t=u.pop();let c=t+1;for(;c<r.tokens.length&&r.tokens[c].type==="mark_close";)c++;if(c--,t!==c){const _=r.tokens[c];r.tokens[c]=r.tokens[t],r.tokens[t]=_}}}i.inline.ruler.before("emphasis","mark",n),i.inline.ruler2.before("emphasis","mark",function(r){let l;const u=r.tokens_meta,b=(r.tokens_meta||[]).length;for(s(r,r.delimiters),l=0;l<b;l++)u[l]&&u[l].delimiters&&s(r,u[l].delimiters)})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:vt,setPrototypeOf:At,isFrozen:pn,getPrototypeOf:mn,getOwnPropertyDescriptor:dn}=Object;let{freeze:O,seal:P,create:Ve}=Object,{apply:qe,construct:Ke}=typeof Reflect<"u"&&Reflect;O||(O=function(n){return n});P||(P=function(n){return n});qe||(qe=function(n,s){for(var r=arguments.length,l=new Array(r>2?r-2:0),u=2;u<r;u++)l[u-2]=arguments[u];return n.apply(s,l)});Ke||(Ke=function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return new n(...r)});const Se=I(Array.prototype.forEach),hn=I(Array.prototype.lastIndexOf),xt=I(Array.prototype.pop),ae=I(Array.prototype.push),_n=I(Array.prototype.splice),we=I(String.prototype.toLowerCase),Ge=I(String.prototype.toString),We=I(String.prototype.match),ce=I(String.prototype.replace),gn=I(String.prototype.indexOf),Tn=I(String.prototype.trim),F=I(Object.prototype.hasOwnProperty),C=I(RegExp.prototype.test),fe=bn(TypeError);function I(i){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var s=arguments.length,r=new Array(s>1?s-1:0),l=1;l<s;l++)r[l-1]=arguments[l];return qe(i,n,r)}}function bn(i){return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return Ke(i,s)}}function h(i,n){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we;At&&At(i,null);let r=n.length;for(;r--;){let l=n[r];if(typeof l=="string"){const u=s(l);u!==l&&(pn(n)||(n[r]=u),l=u)}i[l]=!0}return i}function En(i){for(let n=0;n<i.length;n++)F(i,n)||(i[n]=null);return i}function G(i){const n=Ve(null);for(const[s,r]of vt(i))F(i,s)&&(Array.isArray(r)?n[s]=En(r):r&&typeof r=="object"&&r.constructor===Object?n[s]=G(r):n[s]=r);return n}function ue(i,n){for(;i!==null;){const r=dn(i,n);if(r){if(r.get)return I(r.get);if(typeof r.value=="function")return I(r.value)}i=mn(i)}function s(){return null}return s}const St=O(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Be=O(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$e=O(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),An=O(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ye=O(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),xn=O(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kt=O(["#text"]),wt=O(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xe=O(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),yt=O(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ke=O(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Sn=P(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kn=P(/<%[\w\W]*|[\w\W]*%>/gm),wn=P(/\$\{[\w\W]*/gm),yn=P(/^data-[\-\w.\u00B7-\uFFFF]+$/),Nn=P(/^aria-[\-\w]+$/),Ct=P(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Dn=P(/^(?:\w+script|data):/i),Rn=P(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ot=P(/^html$/i),vn=P(/^[a-z][.\w]*(-[.\w]+)+$/i);var Nt=Object.freeze({__proto__:null,ARIA_ATTR:Nn,ATTR_WHITESPACE:Rn,CUSTOM_ELEMENT:vn,DATA_ATTR:yn,DOCTYPE_NAME:Ot,ERB_EXPR:kn,IS_ALLOWED_URI:Ct,IS_SCRIPT_OR_DATA:Dn,MUSTACHE_EXPR:Sn,TMPLIT_EXPR:wn});const pe={element:1,text:3,progressingInstruction:7,comment:8,document:9},Cn=function(){return typeof window>"u"?null:window},On=function(n,s){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let r=null;const l="data-tt-policy-suffix";s&&s.hasAttribute(l)&&(r=s.getAttribute(l));const u="dompurify"+(r?"#"+r:"");try{return n.createPolicy(u,{createHTML(b){return b},createScriptURL(b){return b}})}catch{return console.warn("TrustedTypes policy "+u+" could not be created."),null}},Dt=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function It(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Cn();const n=f=>It(f);if(n.version="3.3.1",n.removed=[],!i||!i.document||i.document.nodeType!==pe.document||!i.Element)return n.isSupported=!1,n;let{document:s}=i;const r=s,l=r.currentScript,{DocumentFragment:u,HTMLTemplateElement:b,Node:t,Element:c,NodeFilter:_,NamedNodeMap:g=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:d,DOMParser:x,trustedTypes:p}=i,T=c.prototype,U=ue(T,"cloneNode"),K=ue(T,"remove"),Y=ue(T,"nextSibling"),re=ue(T,"childNodes"),M=ue(T,"parentNode");if(typeof b=="function"){const f=s.createElement("template");f.content&&f.content.ownerDocument&&(s=f.content.ownerDocument)}let E,z="";const{implementation:X,createNodeIterator:de,createDocumentFragment:he,getElementsByTagName:Lt}=s,{importNode:Mt}=r;let v=Dt();n.isSupported=typeof vt=="function"&&typeof M=="function"&&X&&X.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ye,ERB_EXPR:Ne,TMPLIT_EXPR:De,DATA_ATTR:Pt,ARIA_ATTR:Ut,IS_SCRIPT_OR_DATA:zt,ATTR_WHITESPACE:Ze,CUSTOM_ELEMENT:Ft}=Nt;let{IS_ALLOWED_URI:Je}=Nt,y=null;const Qe=h({},[...St,...Be,...$e,...Ye,...kt]);let N=null;const et=h({},[...wt,...Xe,...yt,...ke]);let S=Object.seal(Ve(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ie=null,Re=null;const Z=Object.seal(Ve(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let tt=!0,ve=!0,nt=!1,ot=!0,J=!1,_e=!0,V=!1,Ce=!1,Oe=!1,Q=!1,ge=!1,Te=!1,rt=!0,it=!1;const jt="user-content-";let Ie=!0,se=!1,ee={},j=null;const Le=h({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let st=null;const lt=h({},["audio","video","img","source","image","track"]);let Me=null;const at=h({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),be="http://www.w3.org/1998/Math/MathML",Ee="http://www.w3.org/2000/svg",W="http://www.w3.org/1999/xhtml";let te=W,Pe=!1,Ue=null;const Ht=h({},[be,Ee,W],Ge);let Ae=h({},["mi","mo","mn","ms","mtext"]),xe=h({},["annotation-xml"]);const Gt=h({},["title","style","font","a","script"]);let le=null;const Wt=["application/xhtml+xml","text/html"],Bt="text/html";let w=null,ne=null;const $t=s.createElement("form"),ct=function(e){return e instanceof RegExp||e instanceof Function},ze=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ne&&ne===e)){if((!e||typeof e!="object")&&(e={}),e=G(e),le=Wt.indexOf(e.PARSER_MEDIA_TYPE)===-1?Bt:e.PARSER_MEDIA_TYPE,w=le==="application/xhtml+xml"?Ge:we,y=F(e,"ALLOWED_TAGS")?h({},e.ALLOWED_TAGS,w):Qe,N=F(e,"ALLOWED_ATTR")?h({},e.ALLOWED_ATTR,w):et,Ue=F(e,"ALLOWED_NAMESPACES")?h({},e.ALLOWED_NAMESPACES,Ge):Ht,Me=F(e,"ADD_URI_SAFE_ATTR")?h(G(at),e.ADD_URI_SAFE_ATTR,w):at,st=F(e,"ADD_DATA_URI_TAGS")?h(G(lt),e.ADD_DATA_URI_TAGS,w):lt,j=F(e,"FORBID_CONTENTS")?h({},e.FORBID_CONTENTS,w):Le,ie=F(e,"FORBID_TAGS")?h({},e.FORBID_TAGS,w):G({}),Re=F(e,"FORBID_ATTR")?h({},e.FORBID_ATTR,w):G({}),ee=F(e,"USE_PROFILES")?e.USE_PROFILES:!1,tt=e.ALLOW_ARIA_ATTR!==!1,ve=e.ALLOW_DATA_ATTR!==!1,nt=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ot=e.ALLOW_SELF_CLOSE_IN_ATTR!==!1,J=e.SAFE_FOR_TEMPLATES||!1,_e=e.SAFE_FOR_XML!==!1,V=e.WHOLE_DOCUMENT||!1,Q=e.RETURN_DOM||!1,ge=e.RETURN_DOM_FRAGMENT||!1,Te=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,rt=e.SANITIZE_DOM!==!1,it=e.SANITIZE_NAMED_PROPS||!1,Ie=e.KEEP_CONTENT!==!1,se=e.IN_PLACE||!1,Je=e.ALLOWED_URI_REGEXP||Ct,te=e.NAMESPACE||W,Ae=e.MATHML_TEXT_INTEGRATION_POINTS||Ae,xe=e.HTML_INTEGRATION_POINTS||xe,S=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(S.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ct(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(S.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(S.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),J&&(ve=!1),ge&&(Q=!0),ee&&(y=h({},kt),N=[],ee.html===!0&&(h(y,St),h(N,wt)),ee.svg===!0&&(h(y,Be),h(N,Xe),h(N,ke)),ee.svgFilters===!0&&(h(y,$e),h(N,Xe),h(N,ke)),ee.mathMl===!0&&(h(y,Ye),h(N,yt),h(N,ke))),e.ADD_TAGS&&(typeof e.ADD_TAGS=="function"?Z.tagCheck=e.ADD_TAGS:(y===Qe&&(y=G(y)),h(y,e.ADD_TAGS,w))),e.ADD_ATTR&&(typeof e.ADD_ATTR=="function"?Z.attributeCheck=e.ADD_ATTR:(N===et&&(N=G(N)),h(N,e.ADD_ATTR,w))),e.ADD_URI_SAFE_ATTR&&h(Me,e.ADD_URI_SAFE_ATTR,w),e.FORBID_CONTENTS&&(j===Le&&(j=G(j)),h(j,e.FORBID_CONTENTS,w)),e.ADD_FORBID_CONTENTS&&(j===Le&&(j=G(j)),h(j,e.ADD_FORBID_CONTENTS,w)),Ie&&(y["#text"]=!0),V&&h(y,["html","head","body"]),y.table&&(h(y,["tbody"]),delete ie.tbody),e.TRUSTED_TYPES_POLICY){if(typeof e.TRUSTED_TYPES_POLICY.createHTML!="function")throw fe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof e.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw fe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');E=e.TRUSTED_TYPES_POLICY,z=E.createHTML("")}else E===void 0&&(E=On(p,l)),E!==null&&typeof z=="string"&&(z=E.createHTML(""));O&&O(e),ne=e}},ft=h({},[...Be,...$e,...An]),ut=h({},[...Ye,...xn]),Yt=function(e){let o=M(e);(!o||!o.tagName)&&(o={namespaceURI:te,tagName:"template"});const a=we(e.tagName),A=we(o.tagName);return Ue[e.namespaceURI]?e.namespaceURI===Ee?o.namespaceURI===W?a==="svg":o.namespaceURI===be?a==="svg"&&(A==="annotation-xml"||Ae[A]):!!ft[a]:e.namespaceURI===be?o.namespaceURI===W?a==="math":o.namespaceURI===Ee?a==="math"&&xe[A]:!!ut[a]:e.namespaceURI===W?o.namespaceURI===Ee&&!xe[A]||o.namespaceURI===be&&!Ae[A]?!1:!ut[a]&&(Gt[a]||!ft[a]):!!(le==="application/xhtml+xml"&&Ue[e.namespaceURI]):!1},H=function(e){ae(n.removed,{element:e});try{M(e).removeChild(e)}catch{K(e)}},q=function(e,o){try{ae(n.removed,{attribute:o.getAttributeNode(e),from:o})}catch{ae(n.removed,{attribute:null,from:o})}if(o.removeAttribute(e),e==="is")if(Q||ge)try{H(o)}catch{}else try{o.setAttribute(e,"")}catch{}},pt=function(e){let o=null,a=null;if(Oe)e="<remove></remove>"+e;else{const k=We(e,/^[\r\n\t ]+/);a=k&&k[0]}le==="application/xhtml+xml"&&te===W&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const A=E?E.createHTML(e):e;if(te===W)try{o=new x().parseFromString(A,le)}catch{}if(!o||!o.documentElement){o=X.createDocument(te,"template",null);try{o.documentElement.innerHTML=Pe?z:A}catch{}}const R=o.body||o.documentElement;return e&&a&&R.insertBefore(s.createTextNode(a),R.childNodes[0]||null),te===W?Lt.call(o,V?"html":"body")[0]:V?o.documentElement:R},mt=function(e){return de.call(e.ownerDocument||e,e,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT|_.SHOW_PROCESSING_INSTRUCTION|_.SHOW_CDATA_SECTION,null)},Fe=function(e){return e instanceof d&&(typeof e.nodeName!="string"||typeof e.textContent!="string"||typeof e.removeChild!="function"||!(e.attributes instanceof g)||typeof e.removeAttribute!="function"||typeof e.setAttribute!="function"||typeof e.namespaceURI!="string"||typeof e.insertBefore!="function"||typeof e.hasChildNodes!="function")},dt=function(e){return typeof t=="function"&&e instanceof t};function B(f,e,o){Se(f,a=>{a.call(n,e,o,ne)})}const ht=function(e){let o=null;if(B(v.beforeSanitizeElements,e,null),Fe(e))return H(e),!0;const a=w(e.nodeName);if(B(v.uponSanitizeElement,e,{tagName:a,allowedTags:y}),_e&&e.hasChildNodes()&&!dt(e.firstElementChild)&&C(/<[/\w!]/g,e.innerHTML)&&C(/<[/\w!]/g,e.textContent)||e.nodeType===pe.progressingInstruction||_e&&e.nodeType===pe.comment&&C(/<[/\w]/g,e.data))return H(e),!0;if(!(Z.tagCheck instanceof Function&&Z.tagCheck(a))&&(!y[a]||ie[a])){if(!ie[a]&&gt(a)&&(S.tagNameCheck instanceof RegExp&&C(S.tagNameCheck,a)||S.tagNameCheck instanceof Function&&S.tagNameCheck(a)))return!1;if(Ie&&!j[a]){const A=M(e)||e.parentNode,R=re(e)||e.childNodes;if(R&&A){const k=R.length;for(let L=k-1;L>=0;--L){const $=U(R[L],!0);$.__removalCount=(e.__removalCount||0)+1,A.insertBefore($,Y(e))}}}return H(e),!0}return e instanceof c&&!Yt(e)||(a==="noscript"||a==="noembed"||a==="noframes")&&C(/<\/no(script|embed|frames)/i,e.innerHTML)?(H(e),!0):(J&&e.nodeType===pe.text&&(o=e.textContent,Se([ye,Ne,De],A=>{o=ce(o,A," ")}),e.textContent!==o&&(ae(n.removed,{element:e.cloneNode()}),e.textContent=o)),B(v.afterSanitizeElements,e,null),!1)},_t=function(e,o,a){if(rt&&(o==="id"||o==="name")&&(a in s||a in $t))return!1;if(!(ve&&!Re[o]&&C(Pt,o))){if(!(tt&&C(Ut,o))){if(!(Z.attributeCheck instanceof Function&&Z.attributeCheck(o,e))){if(!N[o]||Re[o]){if(!(gt(e)&&(S.tagNameCheck instanceof RegExp&&C(S.tagNameCheck,e)||S.tagNameCheck instanceof Function&&S.tagNameCheck(e))&&(S.attributeNameCheck instanceof RegExp&&C(S.attributeNameCheck,o)||S.attributeNameCheck instanceof Function&&S.attributeNameCheck(o,e))||o==="is"&&S.allowCustomizedBuiltInElements&&(S.tagNameCheck instanceof RegExp&&C(S.tagNameCheck,a)||S.tagNameCheck instanceof Function&&S.tagNameCheck(a))))return!1}else if(!Me[o]){if(!C(Je,ce(a,Ze,""))){if(!((o==="src"||o==="xlink:href"||o==="href")&&e!=="script"&&gn(a,"data:")===0&&st[e])){if(!(nt&&!C(zt,ce(a,Ze,"")))){if(a)return!1}}}}}}}return!0},gt=function(e){return e!=="annotation-xml"&&We(e,Ft)},Tt=function(e){B(v.beforeSanitizeAttributes,e,null);const{attributes:o}=e;if(!o||Fe(e))return;const a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N,forceKeepAttr:void 0};let A=o.length;for(;A--;){const R=o[A],{name:k,namespaceURI:L,value:$}=R,oe=w(k),je=$;let D=k==="value"?je:Tn(je);if(a.attrName=oe,a.attrValue=D,a.keepAttr=!0,a.forceKeepAttr=void 0,B(v.uponSanitizeAttribute,e,a),D=a.attrValue,it&&(oe==="id"||oe==="name")&&(q(k,e),D=jt+D),_e&&C(/((--!?|])>)|<\/(style|title|textarea)/i,D)){q(k,e);continue}if(oe==="attributename"&&We(D,"href")){q(k,e);continue}if(a.forceKeepAttr)continue;if(!a.keepAttr){q(k,e);continue}if(!ot&&C(/\/>/i,D)){q(k,e);continue}J&&Se([ye,Ne,De],Et=>{D=ce(D,Et," ")});const bt=w(e.nodeName);if(!_t(bt,oe,D)){q(k,e);continue}if(E&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!L)switch(p.getAttributeType(bt,oe)){case"TrustedHTML":{D=E.createHTML(D);break}case"TrustedScriptURL":{D=E.createScriptURL(D);break}}if(D!==je)try{L?e.setAttributeNS(L,k,D):e.setAttribute(k,D),Fe(e)?H(e):xt(n.removed)}catch{q(k,e)}}B(v.afterSanitizeAttributes,e,null)},Xt=function f(e){let o=null;const a=mt(e);for(B(v.beforeSanitizeShadowDOM,e,null);o=a.nextNode();)B(v.uponSanitizeShadowNode,o,null),ht(o),Tt(o),o.content instanceof u&&f(o.content);B(v.afterSanitizeShadowDOM,e,null)};return n.sanitize=function(f){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=null,a=null,A=null,R=null;if(Pe=!f,Pe&&(f="<!-->"),typeof f!="string"&&!dt(f))if(typeof f.toString=="function"){if(f=f.toString(),typeof f!="string")throw fe("dirty is not a string, aborting")}else throw fe("toString is not a function");if(!n.isSupported)return f;if(Ce||ze(e),n.removed=[],typeof f=="string"&&(se=!1),se){if(f.nodeName){const $=w(f.nodeName);if(!y[$]||ie[$])throw fe("root node is forbidden and cannot be sanitized in-place")}}else if(f instanceof t)o=pt("<!---->"),a=o.ownerDocument.importNode(f,!0),a.nodeType===pe.element&&a.nodeName==="BODY"||a.nodeName==="HTML"?o=a:o.appendChild(a);else{if(!Q&&!J&&!V&&f.indexOf("<")===-1)return E&&Te?E.createHTML(f):f;if(o=pt(f),!o)return Q?null:Te?z:""}o&&Oe&&H(o.firstChild);const k=mt(se?f:o);for(;A=k.nextNode();)ht(A),Tt(A),A.content instanceof u&&Xt(A.content);if(se)return f;if(Q){if(ge)for(R=he.call(o.ownerDocument);o.firstChild;)R.appendChild(o.firstChild);else R=o;return(N.shadowroot||N.shadowrootmode)&&(R=Mt.call(r,R,!0)),R}let L=V?o.outerHTML:o.innerHTML;return V&&y["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&C(Ot,o.ownerDocument.doctype.name)&&(L="<!DOCTYPE "+o.ownerDocument.doctype.name+`>
`+L),J&&Se([ye,Ne,De],$=>{L=ce(L,$," ")}),E&&Te?E.createHTML(L):L},n.setConfig=function(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ze(f),Ce=!0},n.clearConfig=function(){ne=null,Ce=!1},n.isValidAttribute=function(f,e,o){ne||ze({});const a=w(f),A=w(e);return _t(a,A,o)},n.addHook=function(f,e){typeof e=="function"&&ae(v[f],e)},n.removeHook=function(f,e){if(e!==void 0){const o=hn(v[f],e);return o===-1?void 0:_n(v[f],o,1)[0]}return xt(v[f])},n.removeHooks=function(f){v[f]=[]},n.removeAllHooks=function(){v=Dt()},n}var In=It();function Ln(i){const n=(i||"").replace(/%%[\s\S]*?%%/g,""),s=/\[\[([^\]|]+)(?:\|([^\]]+))?\]\]/g;return n.replace(s,(u,b,t)=>{const c=(t||b).trim(),_=b.trim().replace(/"/g,"&quot;"),g=c.replace(/[&<>"]/g,d=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"})[d]);return`<a href="#" data-internal-link="${_}">${g}</a>`}).replace(/!\[([^\]]*)\]\(([^)\s]+)\|(\d+)x(\d+)\)/g,(u,b,t,c,_)=>`![${b}](${t}){width=${c} height=${_}}`)}function Mn(){const i=new Vt({html:!0,linkify:!0,breaks:!1}).use(fn).use(un).use(qt,{enabled:!0,label:!0});function n(s){return s.replace(/<img([^>]*?)>\{([^}]+)\}/g,(r,l,u)=>{const b=u.trim().replace(/(\w+)=/g,'$1="').replace(/(\d+)(?=\s|$)/g,'$1"');return`<img${l} ${b}>`}).replace(/<blockquote>\s*<p>\s*\[!(\w+)\]\s*/g,(r,l)=>`<blockquote class="callout callout-${l.toLowerCase()}"><p>`)}return{render(s){const r=Ln(s),l=i.render(r),u=In.sanitize(l,{ADD_ATTR:["data-internal-link","target","id"],ADD_TAGS:["input"]});return n(u)}}}const Pn=Mn();function Un({content:i,className:n=""}){const s=me.useMemo(()=>Pn.render(i||""),[i]);return m.jsx("div",{className:`prose ${n}`,dangerouslySetInnerHTML:{__html:s}})}const zn=Rt.memo(Un),Fn=Rt.memo(({entries:i})=>m.jsx("div",{className:"flex-1 relative min-h-0 w-full",children:m.jsxs("div",{className:"absolute inset-0 overflow-y-auto custom-scrollbar space-y-6 pb-8",children:[m.jsx("div",{className:"text-xs font-bold text-zinc-600 uppercase tracking-widest sticky top-0 bg-transparent backdrop-blur-sm z-10 py-2 mb-4",children:"History"}),i.map(n=>m.jsxs("div",{className:"group relative pl-6 border-l border-white/10 hover:border-white/30 transition-colors",children:[m.jsx("div",{className:"absolute -left-[3px] top-2 w-1.5 h-1.5 rounded-full bg-zinc-700 group-hover:bg-blue-500 transition-colors shadow-[0_0_8px_rgba(59,130,246,0.5)]"}),m.jsxs("div",{className:"text-xs text-zinc-500 font-mono mb-2 flex justify-between",children:[m.jsx("span",{children:new Date(n.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),m.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:new Date(n.createdAt).toLocaleDateString()})]}),m.jsx("div",{className:"text-zinc-300 leading-relaxed opacity-90",children:m.jsx(zn,{content:n.content})})]},n.id))]})}));function Hn({journal:i=[],setJournal:n,onOpenLedger:s}){const[r,l]=me.useState(""),[u,b]=me.useState(!1),[t,c]=me.useState(""),_=()=>{r.trim()&&(n([{id:en(),content:r,createdAt:Qt()},...i]),l(""))},g=me.useMemo(()=>t?i.filter(d=>d.content.toLowerCase().includes(t.toLowerCase())):i,[i,t]);return m.jsxs("div",{className:"h-full w-full relative bg-black overflow-hidden flex flex-col items-center font-sans text-zinc-200",children:[m.jsx("div",{className:"absolute bottom-[-1rem] left-[-0.5rem] text-[12rem] md:text-[16rem] leading-none font-bold text-white opacity-[0.34] select-none pointer-events-none z-0 tracking-tighter",children:"Journal"}),m.jsx("div",{className:"w-full max-w-4xl h-full p-4 md:p-8 flex flex-col min-h-0 z-10 relative",children:m.jsxs(Kt,{className:"shadow-2xl relative flex flex-col h-full overflow-hidden",children:[m.jsxs("div",{className:"flex-none px-6 py-5 border-b border-white/5 flex items-center justify-between bg-black/10 backdrop-blur-sm z-20",children:[m.jsx("div",{className:"flex items-center gap-6",children:m.jsxs("div",{children:[m.jsx("div",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Daily Log"}),m.jsx("div",{className:"text-3xl font-bold text-white tracking-tight",children:new Date().toLocaleDateString(void 0,{month:"long",day:"numeric"})})]})}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:s,className:"p-2 text-zinc-500 hover:text-white transition-colors",title:"Decision Ledger","aria-label":"Open Decision Ledger",children:m.jsx(He,{name:"flag",size:24})}),m.jsx("button",{onClick:()=>b(!0),className:"p-2 text-zinc-500 hover:text-white transition-colors",title:"Settings","aria-label":"Open Settings",children:m.jsx(He,{name:"settings",size:24})})]})]}),m.jsx("div",{className:"flex-1 flex flex-col h-full min-h-0 overflow-hidden relative",children:m.jsxs("div",{className:"flex flex-col h-full px-6 pt-6 pb-0 md:px-12 gap-8 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[m.jsx("div",{className:"flex-none flex flex-col max-h-[40vh] transition-all duration-300 ease-out",children:m.jsxs("div",{className:"p-4 bg-white/5 rounded-xl border border-white/5 hover:border-white/10 transition-colors focus-within:bg-white/10 flex flex-col overflow-hidden bg-black/20 backdrop-blur-md",children:[m.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar min-h-[100px]",children:m.jsx(Zt,{value:r,onChange:l,editable:!0,placeholder:"Start writing...",className:"outline-none min-h-full"})}),m.jsx("div",{className:"flex-none flex justify-end mt-2 pt-2 border-t border-white/5 bg-transparent",children:m.jsx("button",{onClick:_,disabled:!r.trim(),className:"text-xs font-bold uppercase tracking-wider px-6 py-2 bg-white rounded-lg text-black hover:bg-zinc-200 transition-colors shadow-[0_0_15px_rgba(255,255,255,0.1)] disabled:opacity-50 disabled:shadow-none",children:"Capture"})})]})}),m.jsx(Fn,{entries:g})]})})]})}),m.jsx("div",{className:`absolute top-0 right-0 h-full w-80 z-50 transform transition-all duration-300 ease-out ${u?"translate-x-0 visible":"translate-x-full invisible"}`,children:m.jsxs("div",{className:"h-full w-full bg-black/90 backdrop-blur-2xl border-l border-white/10 flex flex-col shadow-2xl",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[m.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-zinc-400",children:"Settings"}),m.jsx("button",{onClick:()=>b(!1),className:"text-zinc-500 hover:text-white",children:m.jsx(He,{name:"check",size:18})})]}),m.jsx("div",{className:"p-4 space-y-4",children:m.jsx(Jt,{value:t,onChange:d=>c(d.target.value),placeholder:"Search history...",className:"w-full text-xs"})})]})}),u&&m.jsx("div",{onClick:()=>b(!1),className:"absolute inset-0 bg-black/50 z-40 backdrop-blur-sm transition-opacity"})]})}export{Hn as default};
